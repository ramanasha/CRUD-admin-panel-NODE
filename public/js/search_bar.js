"use strict";function generateNewPetModal(n){return'\n        <div id="newPet'+n._id+'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modal fade client">\n            <div class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title text-danger">Añadir nueva mascota</h5>\n                        <span class="mx-2 text-success"><i class="fa fa-fw fa-2x fa-paw"></i></span>\n                    <button type="button" data-dismiss="modal" aria-label="close">\n                                <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                    <div class="modal-body">\n                        <div class="container-fluid">\n                            <div class="row">\n                                <div class="col-12">\n                                    <form action="/admin/new/pet" method="POST" class="newPet">\n                                        <div class="card">\n                                            <div class="card-header">\n                                                <h2 class="text-center text-success">Datos generales</h2>\n                                                <input type="hidden" name="client_id" value='+n._id+"/>\n                                            </div>\n                                        </div>\n                                    </form>\n                                </div> \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>"}function generateEditClientModal(n,a){return'\n    <div id="clientEdit'+a+'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modal fade client">\n       <div class="modal-dialog" role="document">\n           <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title text-danger">Editar cliente\n                        <span class="ml-2 py-1">'+n._id+'</span>\n                    </h5>\n                    <span class="mx-2 text-success"><i class="fa fa-2x fa-fw fa-users"></i></span>\n                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>    \n                <div class="modal-body">\n                    <div class="container-fluid>\n                        <div class="row">\n                            <div class="col-12">\n                                <form class="editClient" action="/admin/clients/edit" method="POST">\n                                    <div class="card">\n                                        <div class="card-header">\n                                            <h2 class="text-center text-success">Datos generales</h2>\n                                            <input type="hidden" name="client_id" value="'+n._id+'" />\n                                            <div class="form-group">\n                                                <input class="form-control" type="text" name="clientName" value="'+n.personal.name+'" placeholder="Nombre Completo"/>\n                                            </div>\n                                            <div class="form-group">\n                                                <input class="form-control" type="text" name="clientDNI" value="'+n.personal.DNI+'" placeholder="DNI"/>\n                                            </div>\n                                            <div class="form-group">\n                                                <input class="form-control" type="text" name="clientAddress" value="'+n.personal.address+'" placeholder="Dirección"/>\n                                            </div>\n                                            <div class="form-group">\n                                                <input class="form-control" type="text" name="clientLocality" value="'+n.personal.locality+'" placeholder="Localidad"/>\n                                            </div>\n                                            <div class="form-group">\n                                                '+generateProvinces()+'\n                                            </div>\n                                            <div class="form-group">\n                                                <input class="form-control" type="text" name="client_postal_code" value="'+n.personal.postal_code+'" placeholder="Código postal"/>\n                                            </div>\n                                            <div class="form-group">\n                                                 <input class="form-control" type="date" name="client_birthday" value="1991-06-13" placeholder="Fecha de nacimiento"/>\n                                            </div>\n                                            <div class="form-group text-center">\n                                                 <legend>Carácter</legend>\n                                                 <div class="form-check">\n                                                    <label class="form-check-label"> \n                                                         <input class="form-check-input mr-3" type="radio" name="client_nature" value="Colaborativo" checked/>\n                                                         Colaborativo\n                                                    </label>\n                                                 </div>\n                                                 <div class="form-check">\n                                                    <label class="form-check-label">\n                                                         <input class="form-check-input mr-3" type="radio" name="client_nature" value="No Colaborativo" />\n                                                         No Colaborativo\n                                                    </label>\n                                                 </div>\n                                            </div>\n                                            <div class="dropdown-divider"></div>\n                                            <div class="form-group text-center">\n                                                <legend>Temperamento</legend>\n                                                <div class="form-check">\n                                                    <label class="form-check-label">\n                                                        <input class="form-check-input mr-3" type="radio" name="client_temperament" value="Fuerte" checked />\n                                                        Fuerte\n                                                    </label>\n                                                </div>\n                                                <div class="form-check">\n                                                    <label class="form-check-label">\n                                                        <input class="form-check-input mr-3" type="radio" name="client_temperament" value="Medio"/>\n                                                        Medio\n                                                    </label>\n                                                </div>\n                                                <div class="form-check">\n                                                    <label class="form-check-label">\n                                                        <input class="form-check-input mr-3" type="radio" name="client_temperament" value="Débil"/>\n                                                        Débil\n                                                    </label>\n                                                </div>\n                                                <div class="dropdown-divider"></div>\n                                                <fieldset>\n                                                    <legend class="text-warning font-weight-bold">Sexo\n                                                        <div class="form-check form-check-inline">\n                                                            <label class="form-check-label">\n                                                                <input class="form-check-input ml-1 mr-2" type="radio" name="client_gender" value="Hombre" checked/>\n                                                                Hombre\n                                                            </label>\n                                                            <label class="form-check-label">\n                                                                <input class="form-check-input ml-1 mr-2" type="radio" name="client_gender" value="Mujer"/>\n                                                                Mujer\n                                                            </label>\n                                                        </div>\n                                                    </legend>             \n                                                </fieldset>\n                                            </div>\n                                            <div class="form-group text-center">\n                                               <label for="clientAge'+a+'"> Edad\n                                               <input class="form-control" type="number" id="clientAge'+a+'" name="client_age" min="1" max="100" value="'+n.personal.age+'" />\n                                            </div>\n                                        </div>\n                                        <div class="card-block client-card">\n                                            <h3 class="text-center py-2 px-1">Datos de contacto</h3>\n                                            <div class="dropdown-divider"></div>\n                                            <div class="form-group">\n                                                <input type="text" name="client_email" placeholder="Email cliente" value="'+n.contact.email+'" class="form-control"/>\n                                            </div>\n                                            <div class="form-group">\n                                                <input type="text" name="client_phone1" placeholder="Teléfono cliente principal" value="'+n.contact.phoneOne+'" class="form-control"/>\n                                            </div>\n                                            <div class="form-group">\n                                                <input type="text" name="client_phone2" placeholder="Teléfono cliente secundario" value="'+n.contact.phoneTwo+'" class="form-control"/>\n                                            </div>\n                                            <div class="dropdown-divider"></div>\n                                            <div class="form-group">\n                                                <h3 class="text-center py-2 px-1">Datos relevantes</h3>\n                                                <textarea id="comment" class="form-control" name="client_comment" rows="4">'+n.comment+'</textarea>\n                                            </div>\n                                        </div>\n                                        <div class="card-footer d-flex justify-content-center align-items-center">\n                                            <button type="submit" class="btn alone-buttons">\n                                                <i class="fa fa-2x fa-fw fa-check-square-o text-success"></i>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div> \n                        </div>\n                    </div>\n                    <div class="modal-footer">\n                        <button class="btn btn-secondary" type="button" data-dismiss="modal"l>Cerrar</button>\n                    </div>\n                </div>\n            </div>\n        </div>'}function generateInfoClientModal(n,a){return'\n     <div id="client'+a+'" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modal fade client">\n        <div class="modal-dialog modal-lg" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title text-danger">'+n._id+'</h5>\n                    <span class="mx-2 text-success"><i class="fa fa-2x fa-fw fa-users"></i></span>\n                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>\n                <div class="modal-body">\n                    <div class="container-fluid>\n                        <div class="row">\n                            <div class="col-12">\n                                <div class="card">\n                                    <div class="card-header">\n                                        <h4 class="card-title text-warning text-center mb-2 py-1 px-2">'+n.personal.name+'</h4>\n                                        <div class="dropdown-divider"></div>\n                                        <h3 class="text-success mb-2 py-2 px-1">Datos generales</h3>\n                                        <div class="client-data d-flex flex-column">\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">DNI</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+n.personal.DNI+'</h6>\n                                            </span>\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">LOCALIDAD</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+n.personal.locality+'</h6>\n                                            </span>\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">PROVINCIA</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+n.personal.province+'</h6>\n                                            </span>\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">DIRECCIÓN</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+n.personal.address+'</h6>\n                                            </span>\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">CÓDIGO POSTAL</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+n.personal.postal_code+'</h6>\n                                            </span>\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">FECHA NACIMIENTO</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+new Date(n.personal.birthday).toLocaleDateString("en-Es")+'</h6>\n                                            </span>\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">EDAD</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+n.personal.age+'</h6>\n                                            </span>\n                                            <span class="alert alert-warning">\n                                                <strong class="mr-4">GÉNERO</strong>\n                                                <h6 class="card-subtitle my-2 text-muted d-inline">'+n.personal.gender+'</h6>\n                                            </span>\n                                        </div>\n                                    </div>\n                                    <div class="card-block client-card">\n                                        <div class="container">\n                                            <div class="row">\n                                                <div class="col-12 col-sm-8 offset-sm-2">\n                                                    <h2 class="text-center text-success">Datos de contacto</h2>\n                                                    <table class="table table-responsive table-hover tablesmall">\n                                                        <thead>\n                                                             <tr>\n                                                                 <th><i class="fa fa-fw fa-envelope"></i></th>\n                                                                 <th><i class="fa fa-2x fa-fw fa-mobile"></i></th>\n                                                                 <th><i class="fa fa-2x fa-fw fa-mobile"></i></th>\n                                                             </tr>\n                                                         </thead>\n                                                         <tbody>\n                                                               <tr>\n                                                                  <td><a href="mailto:'+n.contact.email+'">'+n.contact.email+'</a></td>\n                                                                  <td><a href="mailto:'+n.contact.phoneOne+'">'+n.contact.phoneOne+'</a></td>\n                                                                  <td><a href="mailto:'+n.contact.phoneTwo+'">'+n.contact.phoneTwo+'</a></td>  \n                                                             </tr>\n                                                         </tbody>\n                                                    </table>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <h3 class="text-center py-2 px-1">Datos de interés</h3>\n                                        <div class="dropdown-divider"></div>\n                                        <p class="card-text">'+n.comment+'</p>\n                                        <div class="client-attitude py-2 px-1">\n                                            <span class="mr-3 font-weight-bold">Carácter:</span>\n                                                <mark class="font-weigth-normal font-italic">'+n.attitude.nature+'</mark>\n                                            <span class="ml-1 mr-3 font-weight-bold">Temperamento:</span>\n                                                <mark class="font-weigth-normal font-italic">'+n.attitude.temperament+'</mark>\n                                        </div>\n                                        <div class="dropdown-divider"></div>\n                                    <div class="card-footer d-flex justify-content-center align-items-center">\n                                        <form action="/admin/clients/remove" method="POST" class="delete">\n                                           <input type="hidden" value='+n._id+' name="clientID"/>\n                                           <button class="btn alone-buttons" type="submit"><i class="fa fa-2x fa-fw fa-trash text-danger"></i></button>\n                                        </form>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cerrar</button>\n                </div>\n            </div>\n        </div>\n    </div>'}function generateClientDisplay(n,a){return'\n    <tr>\n        <td>\n           <button type="button" data-toggle="modal" data-target="#client'+a+'" class="alone-buttons">\n             <i class="fa fa-eye fa-fw text-success"></i>\n           </button>\n           <button type="button" data-toggle="modal" data-target="#clientEdit'+a+'" class="alone-buttons">\n              <i class="fa fa-pencil fa-fw text-warning"></i>\n           </button>\n           <button type="button" data-toggle="modal" data-target="#newPet'+n._id+'" class="alone-buttons">\n              <i class="fa fa-paw fa-fw text-danger"></i>\n           </button>\n        </td>\n        <td>'+n.personal.name+"</td>\n        <td>"+n.contact.phoneOne+" / "+n.contact.phoneTwo+"</td>\n        <td>"+n.contact.email+'</td>\n        <td class="petInfo">\n           <button type="button" title="Ver datos de mascota" class="alone-buttons petDisplay text-warning">\n               <i class="fa fa-2x fa-fw fa-arrow-down"></i>\n           </button>\n        </td>        \n    </tr>'}function generateProvinces(){return"\n    <select class=\"form-control\" name=\"client_province\">\n    <option value='alava'>Álava</option>\n    <option value='albacete'>Albacete</option>\n    <option value='alicante'>Alicante/Alacant</option>\n    <option value='almeria'>Almería</option>\n    <option value='asturias'>Asturias</option>\n    <option value='avila'>Ávila</option>\n    <option value='badajoz'>Badajoz</option>\n    <option value='barcelona'>Barcelona</option>\n    <option value='burgos'>Burgos</option>\n    <option value='caceres'>Cáceres</option>\n    <option value='cadiz'>Cádiz</option>\n    <option value='cantabria'>Cantabria</option>\n    <option value='castellon'>Castellón/Castelló</option>\n    <option value='ceuta'>Ceuta</option>\n    <option value='ciudadreal'>Ciudad Real</option>\n    <option value='cordoba'>Córdoba</option>\n    <option value='cuenca'>Cuenca</option>\n    <option value='girona'>Girona</option>\n    <option value='laspalmas'>Las Palmas</option>\n    <option value='granada'>Granada</option>\n    <option value='guadalajara'>Guadalajara</option>\n    <option value='guipuzcoa'>Guipúzcoa</option>\n    <option value='huelva'>Huelva</option>\n    <option value='huesca'>Huesca</option>\n    <option value='illesbalears'>Illes Balears</option>\n    <option value='jaen'>Jaén</option>\n    <option value='acoruña'>A Coruña</option>\n    <option value='larioja'>La Rioja</option>\n    <option value='leon'>León</option>\n    <option value='lleida'>Lleida</option>\n    <option value='lugo'>Lugo</option>\n    <option value='madrid'>Madrid</option>\n    <option value='malaga'>Málaga</option>\n    <option value='melilla'>Melilla</option>\n    <option value='murcia'>Murcia</option>\n    <option value='navarra'>Navarra</option>\n    <option value='ourense'>Ourense</option>\n    <option value='palencia'>Palencia</option>\n    <option value='pontevedra'>Pontevedra</option>\n    <option value='salamanca'>Salamanca</option>\n    <option value='segovia'>Segovia</option>\n    <option value='sevilla'>Sevilla</option>\n    <option value='soria'>Soria</option>\n    <option value='tarragona'>Tarragona</option>\n    <option value='santacruztenerife'>Santa Cruz de Tenerife</option>\n    <option value='teruel'>Teruel</option>\n    <option selected value='toledo'>Toledo</option>\n    <option value='valencia'>Valencia/Valéncia</option>\n    <option value='valladolid'>Valladolid</option>\n    <option value='vizcaya'>Vizcaya</option>\n    <option value='zamora'>Zamora</option>\n    <option value='zaragoza'>Zaragoza</option>\n</select> "}$(".search-bar").find('button[type="submit"]').on("click",function(n){n.preventDefault();var a=$(".table").find(" #clientData"),e=$(this).parent().find("input#clientSearch").val();a.append($("<div>",{class:"loader"})),$.post("/admin/clients/search",{clientData:e}).done(function(n){a.empty(),0===n.length?a.append($("<p>",{class:"text-center text-danger lead",text:"No se han encontrado resultados"})):($.each($("div.client"),function(n,a){$(a).remove()}),n.forEach(function(n,e){a.append(generateClientDisplay(n,e)),$(generateInfoClientModal(n,e)).insertBefore("#firstScript"),$(generateEditClientModal(n,e)).insertBefore("#firstScript"),$(generateNewPetModal(n)).insertBefore("#firstScript")}),$("form.delete").on("submit",function(n){return confirm("¿Estás segura de que deseas borrarlo?")}))})});