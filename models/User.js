"use strict";var mongoose=require("mongoose"),Schema=mongoose.Schema,bcrypt=require("bcryptjs"),UserSchema=new Schema({username:{type:String,required:!0,lowercase:!0,trim:!0},password:{type:String,default:"miriam"}});UserSchema.pre("save",function(e){var r=this;bcrypt.genSalt(10,function(s,o){if(s)return e(s);bcrypt.hash(r.password,o,function(s,o){if(s)return e(s);r.password=o,e()})})}),UserSchema.methods.validPassword=function(e){return bcrypt.compare(e,this.password)},module.exports=mongoose.model("User",UserSchema);